import{m as _}from"./modulosServicio.0d334e76.js";import{_ as p,o as r,c as n,f as t,t as l,F as h,g as f,j as d,n as v,p as b,e as y}from"./index.6e79b8f1.js";import"./servicio.844cd778.js";import"./_commonjsHelpers.44717140.js";const g={created(){this.obtenerDatosModulo(),this.referenciaPeticion=setInterval(()=>{this.obtenerDatosModulo()},this.tiempoPeticion)},beforeUnmount(){this.detenerPeticion()},data(){return{modulo:null,referenciaPeticion:null,tiempoPeticion:5e3}},methods:{detenerPeticion(){clearInterval(this.referenciaPeticion),this.referenciaPeticion=null},async obtenerDatosModulo(){try{const{id:e}=this.$route.params,s=await _.retrieve(e),c=await s.data,{status:a,statusText:o}=s;if(a<200||a>299)throw{status:a,statusText:o};this.modulo=c,console.log(this.modulo)}catch({status:e,statusText:s}){console.log({mensaje:s||"Ocurrio un error",status:e})}}},computed:{ultimoValor(){return e=>(console.log("datos",e),Object.keys(e)==!1?"S/V":(console.log("Hola valor"),e.pop().valor))},estadoSensor(){return e=>Object.keys(e)==!1?"sensor--vacio":e.pop().estado?"sensor--activo":"sensor--inactivo"}}},m=e=>(b("data-v-737bb9be"),e=e(),y(),e),P=m(()=>t("h1",null,"Detalles del modulo",-1)),S={key:0},k={key:0,class:"sensores"},D={class:"sensor__clave"},V=m(()=>t("hr",null,null,-1));function w(e,s,c,a,o,u){return r(),n("div",null,[P,o.modulo?(r(),n("article",S,[t("h3",null,"Modulo: "+l(o.modulo.mac),1),t("p",null,"Zona: "+l(o.modulo.area),1),t("p",null,"Mina: "+l(o.modulo.mina),1),o.modulo?(r(),n("section",k,[(r(!0),n(h,null,f(o.modulo.sensores,i=>(r(),n("article",{class:v(["sensor",u.estadoSensor(i.datos)]),key:i},[t("p",D,l(i.clave),1),V,t("p",null,"Ultimo valor: "+l(u.ultimoValor(i.datos)),1)],2))),128))])):d("",!0)])):d("",!0)])}const B=p(g,[["render",w],["__scopeId","data-v-737bb9be"]]);export{B as default};
