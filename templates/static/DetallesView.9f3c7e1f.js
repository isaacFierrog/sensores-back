import{_ as m,d as p,r as h,o as l,c as i,f as o,t as a,F as f,h as v,g as P,b as y,a as D,n as V,p as I,e as S}from"./index.0cec3709.js";import{m as g}from"./modulosServicio.b4d73aec.js";const w={created(){this.obtenerDatosModulo(),this.referenciaPeticion=setInterval(()=>{this.obtenerDatosModulo()},this.tiempoPeticion)},beforeUnmount(){this.detenerPeticion()},components:{Grafica:p(()=>D(()=>import("./GraficaComponent.37e1e6a1.js"),["static/GraficaComponent.37e1e6a1.js","static/index.0cec3709.js","static/index.64017e9b.css"]))},data(){return{modulo:null,referenciaPeticion:null,tiempoPeticion:5e3}},methods:{detenerPeticion(){clearInterval(this.referenciaPeticion),this.referenciaPeticion=null},async obtenerDatosModulo(){try{const{id:e}=this.$route.params,s=await g.retrieve(e),c=await s.data,{status:n,statusText:t}=s;if(n<200||n>299)throw{status:n,statusText:t};this.modulo=c,console.log(this.modulo)}catch({status:e,statusText:s}){console.log({mensaje:s||"Ocurrio un error",status:e})}}},computed:{ultimoValor(){return e=>e.pop().valor},estadoSensor(){return e=>e.pop().estado?"sensor--activo":"sensor--inactivo"}}},u=e=>(I("data-v-edd39afa"),e=e(),S(),e),x=u(()=>o("h1",null,"Detalles del modulo",-1)),b={key:0,class:"sensores"},M={class:"sensor__clave"},k=u(()=>o("hr",null,null,-1));function C(e,s,c,n,t,d){const _=h("Grafica");return l(),i("div",null,[x,o("article",null,[o("h3",null,"Modulo: "+a(t.modulo.mac),1),o("p",null,"Zona: "+a(t.modulo.area),1),o("p",null,"Mina: "+a(t.modulo.mina),1),t.modulo?(l(),i("section",b,[(l(!0),i(f,null,v(t.modulo.sensores,r=>(l(),i("article",{class:V(["sensor",d.estadoSensor(r.datos)]),key:r},[o("p",M,a(r.clave),1),k,o("p",null,"Ultimo valor: "+a(d.ultimoValor(r.datos)),1)],2))),128))])):P("",!0)]),y(_)])}const G=m(w,[["render",C],["__scopeId","data-v-edd39afa"]]);export{G as default};
