import{aT as _,aU as v,f as h,g as b,o as x,a as w,j as s,b as d,u as p,i as N,k as y}from"./index-cb7d7a6d.js";import{i as c}from"./service-34bee0cf.js";import{u as k}from"./use-notification-bc2cf5c8.js";import{b as f}from"./Input-d6f1a23b.js";import{N as A}from"./Button-bfeba12d.js";const i="login/",E={list(e){return c.get(i,{params:e})},retrieve(e,a){return c.get(`${i}${e}/`,{params:a})},autenticar(e){return c.post(i,e)},actualizar(e){return c.patch(`${i}refresh/`,e)}},U=()=>{const e=k();return{notificacion:(l,{content:r,meta:t})=>{e[l]({content:r,meta:t,keepAliveOnHover:!0,duration:2500})}}},C={class:"flex flex-col justify-center items-center w-full"},I=s("h1",{class:"mb-3 text-3xl uppercase font-bold text-slate-100"}," login ",-1),S={class:"w-2/5 px-8 py-6 bg-cyan-950 border-t-8 border-t-cyan-600 rounded-lg shadow-sm"},T={class:"mb-3"},z=s("p",{class:"mb-1 uppercase font-bold text-slate-200"},"correo",-1),B={class:"mb-3"},D=s("p",{class:"mb-1 uppercase font-bold text-slate-200"},"password",-1),L={class:"text-right"},F={__name:"LoginFormComponent",setup(e){const a=_(),l=v(),r=U(),t=h({correo:null,password:null}),m=async()=>{if(!g.value){r.notificacion("warning",{content:"Debes de ingresar todos los datos",meta:"Necesitas llentar todos los campos para ingresar"});return}try{const o=(await E.autenticar(t.value)).data;r.notificacion("success",{content:"Exito",meta:"Inicio de sesion exitosa"}),a.push({name:"usuarios-listado"}),console.log("RESPUESTA DE LA AUTENTICACION"),console.log(o),l.guardarDatos(o)}catch(o){console.log(o)}},g=b(()=>{for(const o in t.value)if(t.value[o]===null)return!1;return!0});return(o,n)=>(x(),w("div",C,[I,s("article",S,[s("article",T,[z,d(p(f),{value:t.value.correo,"onUpdate:value":n[0]||(n[0]=u=>t.value.correo=u),size:"large",clearable:!0},null,8,["value"])]),s("article",B,[D,d(p(f),{value:t.value.password,"onUpdate:value":n[1]||(n[1]=u=>t.value.password=u),type:"password",size:"large","show-password-on":"click",clearable:!0},null,8,["value"])]),s("section",L,[d(p(A),{size:"large",type:"info",onClick:m},{default:N(()=>[y(" Ingresar ")]),_:1})])])]))}};export{F as default};
